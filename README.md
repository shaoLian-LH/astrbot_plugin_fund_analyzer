# ðŸ“Š AstrBot åŸºé‡‘åˆ†æžæ’ä»¶

[![License: Apache 2.0](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Python 3.10+](https://img.shields.io/badge/Python-3.10+-green.svg)](https://www.python.org/downloads/)
[![AstrBot](https://img.shields.io/badge/AstrBot-v4.0+-purple.svg)](https://astrbot.app)

ä¸º AstrBot æä¾›ä¸“ä¸šçš„åŸºé‡‘æ•°æ®åˆ†æžåŠŸèƒ½ã€‚æ”¯æŒå®žæ—¶è¡Œæƒ…ã€æŠ€æœ¯åˆ†æžã€é‡åŒ–æŒ‡æ ‡ã€ç­–ç•¥å›žæµ‹ã€AI æ™ºèƒ½åˆ†æžç­‰ä¸°å¯Œç‰¹æ€§ã€‚

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ðŸ“ˆ å®žæ—¶è¡Œæƒ…æŸ¥è¯¢
- **LOF åŸºé‡‘è¡Œæƒ…**ï¼šå®žæ—¶ä»·æ ¼ã€æ¶¨è·Œå¹…ã€æˆäº¤é‡ç­‰
- **åŸºé‡‘æœç´¢**ï¼šæ”¯æŒä»£ç å’Œåç§°æ¨¡ç³Šæœç´¢
- **ä¸ªæ€§åŒ–è®¾ç½®**ï¼šè®¾ç½®é»˜è®¤å…³æ³¨åŸºé‡‘

### ðŸ“Š ä¸“ä¸šæŠ€æœ¯åˆ†æž
- **å‡çº¿ç³»ç»Ÿ**ï¼šMA5/MA10/MA20/MA60 ç§»åŠ¨å¹³å‡çº¿
- **è¶‹åŠ¿æŒ‡æ ‡**ï¼šMACDï¼ˆDIFã€DEAã€æŸ±çŠ¶å›¾ï¼‰
- **åŠ¨é‡æŒ‡æ ‡**ï¼šRSIï¼ˆ6æ—¥ã€14æ—¥ï¼‰ã€KDJ
- **æ³¢åŠ¨æŒ‡æ ‡**ï¼šå¸ƒæž—å¸¦ã€ATR å¹³å‡çœŸå®žæ³¢å¹…

### ðŸ”¢ é‡åŒ–ç»©æ•ˆåˆ†æž
- **æ”¶ç›ŠæŒ‡æ ‡**ï¼šç´¯è®¡æ”¶ç›Šã€å¹´åŒ–æ”¶ç›Šã€æ—¥å‡æ”¶ç›Š
- **é£Žé™©æŒ‡æ ‡**ï¼šå¹´åŒ–æ³¢åŠ¨çŽ‡ã€æœ€å¤§å›žæ’¤ã€VaR é£Žé™©ä»·å€¼
- **é£Žé™©è°ƒæ•´æ”¶ç›Š**ï¼šå¤æ™®æ¯”çŽ‡ã€ç´¢æè¯ºæ¯”çŽ‡ã€å¡çŽ›æ¯”çŽ‡

### ðŸ”„ ç­–ç•¥å›žæµ‹ç³»ç»Ÿ
- **MA äº¤å‰ç­–ç•¥**ï¼šé‡‘å‰ä¹°å…¥ã€æ­»å‰å–å‡º
- **RSI ç­–ç•¥**ï¼šè¶…å–åå¼¹ã€è¶…ä¹°å–å‡º
- **å›žæµ‹æŒ‡æ ‡**ï¼šèƒœçŽ‡ã€ç›ˆäºæ¯”ã€æœ€å¤§å›žæ’¤

### ðŸ¤– AI æ™ºèƒ½åˆ†æž
- **é‡åŒ–æ•°æ®è§£è¯»**ï¼šç»“åˆç»©æ•ˆæŒ‡æ ‡æ·±åº¦åˆ†æž
- **æŠ€æœ¯é¢è§£è¯»**ï¼šç»¼åˆå¤šæŒ‡æ ‡ç»™å‡ºä¿¡å·
- **è¶‹åŠ¿é¢„æµ‹**ï¼šçŸ­æœŸ/ä¸­æœŸèµ°åŠ¿é¢„æµ‹
- **é£Žé™©æç¤º**ï¼šåŸºäºŽé‡åŒ–æ•°æ®çš„é£Žé™©è¯„ä¼°

## ðŸ“¦ å®‰è£…é…ç½®

### ç³»ç»Ÿè¦æ±‚
- Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- AstrBot v4.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- ç½‘ç»œè¿žæŽ¥ï¼ˆèŽ·å–è¡Œæƒ…æ•°æ®ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†æ’ä»¶åˆ° AstrBot æ’ä»¶ç›®å½•**
```bash
cd AstrBot/data/plugins/
git clone https://github.com/2529huang/astrbot_plugin_zhouzhou.git astrbot_plugin_fund_analyzer
```

2. **å®‰è£… Python ä¾èµ–**
```bash
pip install akshare
```

3. **é‡å¯ AstrBot æˆ–çƒ­é‡è½½æ’ä»¶**

## ðŸŽ® ä½¿ç”¨æŒ‡å—

### è¡Œæƒ…æŸ¥è¯¢
```
åŸºé‡‘ 000001           # æŸ¥è¯¢æŒ‡å®šåŸºé‡‘å®žæ—¶è¡Œæƒ…
åŸºé‡‘                  # æŸ¥è¯¢é»˜è®¤åŸºé‡‘è¡Œæƒ…
æœç´¢åŸºé‡‘ ç™½é“¶          # æœç´¢åŒ…å«"ç™½é“¶"çš„åŸºé‡‘
```

### æŠ€æœ¯åˆ†æž
```
åŸºé‡‘åˆ†æž 161226       # æŠ€æœ¯åˆ†æžï¼ˆå‡çº¿ã€è¶‹åŠ¿ï¼‰
åŸºé‡‘åŽ†å² 161226 20    # æŸ¥çœ‹è¿‘20æ—¥åŽ†å²è¡Œæƒ…
```

### é‡åŒ–åˆ†æž
```
é‡åŒ–åˆ†æž 161226       # ä¸“ä¸šé‡åŒ–æŒ‡æ ‡ï¼ˆæ— éœ€AIï¼‰
æ™ºèƒ½åˆ†æž 161226       # AI + é‡åŒ–æ·±åº¦åˆ†æž
```

### ä¸ªäººè®¾ç½®
```
è®¾ç½®åŸºé‡‘ 161226       # è®¾ç½®é»˜è®¤å…³æ³¨åŸºé‡‘
åŸºé‡‘å¸®åŠ©             # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

## ðŸ“‹ å‘½ä»¤ä¸€è§ˆ

| å‘½ä»¤                     | è¯´æ˜Ž             | ç¤ºä¾‹                 |
| ------------------------ | ---------------- | -------------------- |
| `åŸºé‡‘ [ä»£ç ]`            | æŸ¥è¯¢åŸºé‡‘å®žæ—¶è¡Œæƒ… | `åŸºé‡‘ 161226`        |
| `åŸºé‡‘åˆ†æž [ä»£ç ]`        | æŠ€æœ¯åˆ†æž         | `åŸºé‡‘åˆ†æž`           |
| `é‡åŒ–åˆ†æž [ä»£ç ]`        | ðŸ“Š ä¸“ä¸šé‡åŒ–æŒ‡æ ‡   | `é‡åŒ–åˆ†æž 161226`    |
| `æ™ºèƒ½åˆ†æž [ä»£ç ]`        | ðŸ¤– AIé‡åŒ–æ·±åº¦åˆ†æž | `æ™ºèƒ½åˆ†æž 161226`    |
| `åŸºé‡‘åŽ†å² [ä»£ç ] [å¤©æ•°]` | åŽ†å²è¡Œæƒ…         | `åŸºé‡‘åŽ†å² 161226 20` |
| `æœç´¢åŸºé‡‘ å…³é”®è¯`        | æœç´¢åŸºé‡‘         | `æœç´¢åŸºé‡‘ ç™½é“¶`      |
| `è®¾ç½®åŸºé‡‘ ä»£ç `          | è®¾ç½®é»˜è®¤åŸºé‡‘     | `è®¾ç½®åŸºé‡‘ 161226`    |
| `åŸºé‡‘å¸®åŠ©`               | æ˜¾ç¤ºå¸®åŠ©         | `åŸºé‡‘å¸®åŠ©`           |

## ðŸ“Š é‡åŒ–æŒ‡æ ‡è¯´æ˜Ž

| æŒ‡æ ‡ç±»åž‹     | æŒ‡æ ‡åç§°   | è¯´æ˜Ž                      |
| ------------ | ---------- | ------------------------- |
| **æ”¶ç›ŠæŒ‡æ ‡** | å¤æ™®æ¯”çŽ‡   | >1 è¡¨ç¤ºé£Žé™©è°ƒæ•´åŽæ”¶ç›Šè¾ƒå¥½ |
| **æ”¶ç›ŠæŒ‡æ ‡** | ç´¢æè¯ºæ¯”çŽ‡ | åªè€ƒè™‘ä¸‹è¡Œé£Žé™©çš„æ”¶ç›Šæ¯”    |
| **æ”¶ç›ŠæŒ‡æ ‡** | å¡çŽ›æ¯”çŽ‡   | å¹´åŒ–æ”¶ç›Š / æœ€å¤§å›žæ’¤       |
| **é£Žé™©æŒ‡æ ‡** | æœ€å¤§å›žæ’¤   | åŽ†å²æœ€å¤§äºæŸå¹…åº¦          |
| **é£Žé™©æŒ‡æ ‡** | VaR (95%)  | 95%æ¦‚çŽ‡ä¸‹çš„æœ€å¤§æ—¥äºæŸ     |
| **é£Žé™©æŒ‡æ ‡** | å¹´åŒ–æ³¢åŠ¨çŽ‡ | ä»·æ ¼æ³¢åŠ¨ç¨‹åº¦              |
| **æŠ€æœ¯æŒ‡æ ‡** | RSI        | >70 è¶…ä¹°ï¼Œ<30 è¶…å–        |
| **æŠ€æœ¯æŒ‡æ ‡** | MACD       | çº¢æŸ±çœ‹æ¶¨ï¼Œç»¿æŸ±çœ‹è·Œ        |

## ðŸ’¡ è¾“å‡ºç¤ºä¾‹

### å®žæ—¶è¡Œæƒ…
```
ðŸ“Š ã€å›½æŠ•ç‘žé“¶ç™½é“¶æœŸè´§(LOF)Aã€‘å®žæ—¶è¡Œæƒ… ðŸ“ˆ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ðŸ’° æœ€æ–°ä»·: 1.2345
ðŸŸ¢ æ¶¨è·Œé¢: +0.0123
ðŸŸ¢ æ¶¨è·Œå¹…: +1.00%
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ðŸ“ˆ ä»Šå¼€: 1.2200
ðŸ“Š æœ€é«˜: 1.2400
ðŸ“‰ æœ€ä½Ž: 1.2100
ðŸ“‹ æ˜¨æ”¶: 1.2222
```

### é‡åŒ–åˆ†æž
```
ðŸ“Š **é‡åŒ–åˆ†æžæŠ¥å‘Š**

**ã€ç»©æ•ˆåˆ†æžã€‘**
ç´¯è®¡æ”¶ç›Š: +5.23%
å¹´åŒ–æ”¶ç›Š: +18.45%
å¤æ™®æ¯”çŽ‡: 1.25
æœ€å¤§å›žæ’¤: 8.32%

**ã€æŠ€æœ¯æŒ‡æ ‡ã€‘**
RSI(14): 55.32 (ä¸­æ€§)
MACD: çº¢æŸ±
ç»¼åˆè¯„åˆ†: 35 åˆ†
**æŠ€æœ¯ä¿¡å·: ä¹°å…¥**

**ã€ç­–ç•¥å›žæµ‹ã€‘**
â€¢ MA5/20äº¤å‰: æ”¶ç›Š +12.5%, èƒœçŽ‡ 60.0%
â€¢ RSI(14): æ”¶ç›Š +8.3%, èƒœçŽ‡ 55.0%
```

## ðŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰ AI æç¤ºè¯
ç¼–è¾‘ `ai_analyzer/prompts.py` å¯è‡ªå®šä¹‰ AI åˆ†æžçš„æç¤ºè¯æ¨¡æ¿ï¼š
- `SYSTEM_PROMPT` - ç³»ç»Ÿè§’è‰²è®¾å®š
- `ANALYSIS_PROMPT_TEMPLATE` - ä¸»åˆ†æžæ¨¡æ¿
- `QUICK_ANALYSIS_PROMPT` - å¿«é€Ÿåˆ†æžæ¨¡æ¿

### æ·»åŠ åŸºé‡‘ç±»åž‹
ç¼–è¾‘ `ai_analyzer/factors.py` çš„ `FUND_TYPE_FACTORS` å¯æ·»åŠ æ–°çš„åŸºé‡‘ç±»åž‹è¯†åˆ«è§„åˆ™ã€‚

## ðŸ“ é¡¹ç›®ç»“æž„

```
astrbot_plugin_fund_analyzer/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ main.py              # ä¸»æ’ä»¶å…¥å£
â”œâ”€â”€ metadata.yaml        # æ’ä»¶å…ƒæ•°æ®
â”œâ”€â”€ README.md
â””â”€â”€ ai_analyzer/         # AI åˆ†æžæ¨¡å—
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ analyzer.py      # AI åˆ†æžå™¨æ ¸å¿ƒ
    â”œâ”€â”€ factors.py       # åŸºé‡‘å½±å“å› ç´ 
    â”œâ”€â”€ prompts.py       # æç¤ºè¯æ¨¡æ¿
    â””â”€â”€ quant.py         # é‡åŒ–åˆ†æžå¼•æ“Ž
```

## âš ï¸ å…è´£å£°æ˜Ž

**æŠ•èµ„æœ‰é£Žé™©ï¼Œå…¥å¸‚éœ€è°¨æ…Žï¼**

- æœ¬æ’ä»¶ä»…æä¾›æ•°æ®æŸ¥è¯¢å’ŒæŠ€æœ¯åˆ†æžåŠŸèƒ½ï¼Œ**ä¸æž„æˆä»»ä½•æŠ•èµ„å»ºè®®**
- é‡åŒ–å›žæµ‹åŸºäºŽåŽ†å²æ•°æ®ï¼Œ**ä¸ä»£è¡¨æœªæ¥è¡¨çŽ°**
- æŠ•èµ„è€…åº”æ ¹æ®è‡ªèº«é£Žé™©æ‰¿å—èƒ½åŠ›åšå‡ºç‹¬ç«‹åˆ¤æ–­
- å¼€å‘è€…ä¸å¯¹å› ä½¿ç”¨æœ¬æ’ä»¶äº§ç”Ÿçš„ä»»ä½•æŸå¤±è´Ÿè´£

## ðŸ™ æ„Ÿè°¢ & å‚è€ƒ

- [AKShare](https://github.com/akfamily/akshare) - å¼€æºé‡‘èžæ•°æ®æŽ¥å£
- [AstrBot](https://github.com/Soulter/AstrBot) - å¤šå¹³å° LLM èŠå¤©æœºå™¨äººæ¡†æž¶

## ðŸ“„ å¼€æºè®¸å¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) å¼€æºè®¸å¯è¯ã€‚

