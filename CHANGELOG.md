# v1.3.0 更新日志

## 🚀 新功能

### 新增实时持仓指令
- 新增 `sscc` 指令：按发起用户持仓批量查询基金现价
- 输出每只基金最近收盘日及对应涨跌幅
- 支持区分场内/场外基金并采用对应的数据获取路径

### QDII 查询优化
- 对 QDII 基金最近收盘数据增加当日复用缓存
- 同一自然日内重复查询时减少不必要的净值请求

## 🔧 体验改进

- 补充 `基金帮助` 与 `README` 的命令说明
- 增强持仓实时快照文本展示，明确场内/场外和 QDII 标记

# v1.1.0 更新日志

## 🚀 新功能

### 场外基金支持
- 新增对场外基金（如 ETF联接基金）的完整支持
- 支持场外基金实时估值查询
- 支持场外基金历史净值查询

### 数据接口优化
- 使用直接 HTTP API 调用替代 akshare 库
- 解决了 `Connection aborted` 和 `RemoteDisconnected` 连接错误
- 新增天天基金搜索 API，提升搜索稳定性

### 图片渲染改进
- 新增本地 Playwright 渲染器，提升图片清晰度
- 修复图片宽度不一致问题（右侧空白区域）
- 使用 2x 分辨率渲染，图片更清晰

## 📋 支持的基金类型

| 类型       | 代码示例 | 功能                |
| ---------- | -------- | ------------------- |
| 场内 LOF   | 161226   | 实时行情 + 历史K线  |
| 上交所 ETF | 518880   | 实时行情 + 历史K线  |
| 深交所 ETF | 159934   | 实时行情 + 历史K线  |
| 场外基金   | 004433   | 实时估值 + 历史净值 |

## 🔧 技术改进

- 新增 `eastmoney_api.py` 模块，封装东方财富 API
- 新增 `image_generator.py` 模块，本地图片渲染
- 优化请求重试机制，添加随机 User-Agent 轮换
- 修复 JSON MIME 类型解析问题

## 📦 依赖更新

- 新增 `jinja2>=3.0.0`
- 新增 `playwright>=1.40.0` (可选)
